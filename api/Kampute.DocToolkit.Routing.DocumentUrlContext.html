<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><title>DocToolkit - DocumentUrlContext Class (Kampute.DocToolkit.Routing)</title><link rel="icon" href="../ICON.png"/><link rel="stylesheet" href="../style.css"/><script src="../script.js"></script><script src="../prism.min.js"></script><meta name="generator" content="DotDoc [Version 0.1.0.0]"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="description" content="Represents a disposable context that manages relative URL resolution within a document context."/></head><body class="has-left-sidebar has-right-sidebar has-breadcrumb"><a href="#article" class="skip-link" aria-label="Skip to main content" tabindex="0">Skip to main content</a><header class="header" role="banner"><div class="header-main"><div class="brand" aria-label="Project title and logo"><img src="../logo-light.png" alt="DocToolkit logo" class="logo dark-mode"/> <img src="../logo-dark.png" alt="DocToolkit logo" class="logo light-mode"/><div class="project-info"><span class="project-name">DocToolkit</span> <span class="project-slogan">A library for generating API documentation</span></div></div><nav id="menubar" class="menu-bar" role="navigation" aria-label="Main Menu" data-base-url="../" tabindex="-1"><ul class="menu" role="menubar" aria-labelledby="menubar"><li id="color-mode" class="menu-item has-submenu" role="menuitem" aria-hidden="true" tabindex="-1"><a><span class="icon selected-icon" aria-hidden="true"></span></a><ul class="menu" role="menu" aria-labelledby="color-mode" tabindex="-1"><li class="menu-item" data-mode="light" role="menuitemradio" aria-label="Light Color Mode" tabindex="-1"><a><span class="icon icon-light-color" aria-hidden="true"></span> <span>Light</span></a></li><li class="menu-item" data-mode="dark" role="menuitemradio" aria-label="Dark Color Mode" tabindex="-1"><a><span class="icon icon-dark-color" aria-hidden="true"></span> <span>Dark</span></a></li><li class="menu-item" data-mode="system" role="menuitemradio" aria-label="System Color Mode" tabindex="-1"><a><span class="icon icon-system-color" aria-hidden="true"></span> <span>System</span></a></li></ul></li></ul></nav></div><nav class="breadcrumb" role="navigation" aria-label="Breadcrumb" tabindex="-1"><ol><li class="is-topic"><a href="../index.html"><span class="name">DocToolkit</span></a></li><li class="is-topic"><a href="index.html"><span class="name">API Overview</span></a></li><li class="is-namespace"><a href="Kampute.DocToolkit.Routing.html"><span class="name">Kampute.DocToolkit.Routing</span> <span class="category">Namespace</span></a></li><li class="is-class current-page" aria-current="page"><a href="Kampute.DocToolkit.Routing.DocumentUrlContext.html"><span class="name">DocumentUrlContext</span> <span class="category">Class</span></a></li></ol></nav></header><div class="content"><aside class="sidebar sidebar-left" role="complementary" aria-label="Site navigation" tabindex="-1"><div class="sidebar-header"><div class="search-container" role="search"><input type="text" id="nav-search" class="nav-search" placeholder="Search..." aria-label="Search documentation" title="Type to filter content (Press / to focus)" autocomplete="off" spellcheck="false"><button id="clear-search" type="button" class="clear-search hidden" aria-label="Clear search" title="Clear" tabindex="-1"><span class="icon icon-delete" aria-hidden="true"></span></button> <span class="search-icon" aria-hidden="true"><span class="icon icon-search"></span></span></div></div><nav id="site-navigation" class="sidebar-nav" data-base-url="../"><div class="no-search-results hidden" aria-live="polite" role="status">No results found</div></nav></aside><main id="article" role="main" class="has-expanded-members"><h1>DocumentUrlContext Class</h1><dl class="module-card"><dt>Namespace</dt><dd><a href="Kampute.DocToolkit.Routing.html" rel="code-reference">Kampute.DocToolkit.Routing</a></dd><dt>Assembly</dt><dd><ul class="inline-list"><li>Kampute.DocToolkit.dll</li></ul></dd></dl><h2 id="definition">Definition</h2><div class="doc-summary">Represents a disposable context that manages relative URL resolution within a document context.</div><pre dir="ltr"><code class="language-csharp">public abstract class DocumentUrlContext : IDisposable</code></pre><dl class="member-card"><dt>Inheritance</dt><dd><ul class="inline-list inheritance-list" aria-label="Inheritance hierarchy"><li><a href="https://learn.microsoft.com/dotnet/api/system.object" rel="code-reference">object</a></li><li aria-current="location">DocumentUrlContext</li></ul></dd><dt>Implements</dt><dd><ul class="inline-list"><li><a href="https://learn.microsoft.com/dotnet/api/system.idisposable" rel="code-reference">IDisposable</a></li></ul></dd></dl><h2 id="remarks">Remarks</h2><div class="doc-comment">This abstract class represents a temporary context for URL adjustment that's specific to the document currently being rendered. It provides access to the base URL used for normalizing relative URLs and ensures the context is properly terminated when document processing is complete.<p>The concrete implementation of this class is responsible for managing the state of the URL adjustment context and ensuring that the base URL is correctly set based on the current document's location within the documentation site.</p>When the context is disposed, any state modifications related to the current document context should be reverted, restoring the previous URL adjustment context.</div><h2 id="constructors">Constructors</h2><section class="type-member is-constructor" role="region" aria-labelledby="Kampute_DocToolkit_Routing_DocumentUrlContext__ctor_System_String_Kampute_DocToolkit_IDocumentModel_"><h3 id="Kampute_DocToolkit_Routing_DocumentUrlContext__ctor_System_String_Kampute_DocToolkit_IDocumentModel_">DocumentUrlContext(string, IDocumentModel)</h3><div class="doc-summary">Initializes a new instance of the <a href="Kampute.DocToolkit.Routing.DocumentUrlContext.html" rel="code-reference" class="see-link">DocumentUrlContext</a> class.</div><pre dir="ltr"><code class="language-csharp">protected DocumentUrlContext(string directory, IDocumentModel model)</code></pre><dl class="member-card"></dl><h4 id="parameters">Parameters</h4><dl class="param-list"><dt><code class="param-name">directory</code> <span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.string" rel="code-reference">string</a></span></dt><dd>The directory path of the document being rendered relative to the documentation root.</dd><dt><code class="param-name">model</code> <span class="param-type"><a href="Kampute.DocToolkit.IDocumentModel.html" rel="code-reference">IDocumentModel</a></span></dt><dd>The document model associated with the current context or <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/keywords/null" rel="language-keyword" class="see-link"><code class="langword">null</code></a> if not applicable.</dd></dl><h4 id="exceptions">Exceptions</h4><dl class="reference-list"><dt><a href="https://learn.microsoft.com/dotnet/api/system.argumentnullexception" rel="code-reference">ArgumentNullException</a></dt><dd>Thrown when <code class="param-name">directory</code> is <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/keywords/null" rel="language-keyword" class="see-link"><code class="langword">null</code></a>.</dd></dl></section><h2 id="properties">Properties</h2><section class="type-member is-property is-public" role="region" aria-labelledby="Kampute_DocToolkit_Routing_DocumentUrlContext_Directory"><h3 id="Kampute_DocToolkit_Routing_DocumentUrlContext_Directory">Directory</h3><div class="doc-summary">Gets the current document directory path relative to the documentation root.</div><pre dir="ltr"><code class="language-csharp">public string Directory { get; }</code></pre><dl class="member-card"></dl><h4 id="property-value">Property Value</h4><dl class="param-list"><dt><span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.string" rel="code-reference">string</a></span></dt><dd>The relative directory path of the document being rendered within the documentation structure.</dd></dl><h4 id="remarks">Remarks</h4><div class="doc-comment">This property provides access to the current document's directory path relative to the documentation root. It can be useful for determining the document's location within the hierarchy or for constructing relative paths to other documents or resources.</div></section><section class="type-member is-property is-public" role="region" aria-labelledby="Kampute_DocToolkit_Routing_DocumentUrlContext_IsRoot"><h3 id="Kampute_DocToolkit_Routing_DocumentUrlContext_IsRoot">IsRoot</h3><div class="doc-summary">Gets a value indicating whether the current document is at the root level of the documentation site.</div><pre dir="ltr"><code class="language-csharp">public bool IsRoot { get; }</code></pre><dl class="member-card"></dl><h4 id="property-value">Property Value</h4><dl class="param-list"><dt><span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.boolean" rel="code-reference">bool</a></span></dt><dd><a href="https://learn.microsoft.com/dotnet/csharp/language-reference/builtin-types/bool" rel="language-keyword" class="see-link"><code class="langword">true</code></a> if the current document is at the root level; otherwise, <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/builtin-types/bool" rel="language-keyword" class="see-link"><code class="langword">false</code></a>.</dd></dl></section><section class="type-member is-property is-public" role="region" aria-labelledby="Kampute_DocToolkit_Routing_DocumentUrlContext_Model"><h3 id="Kampute_DocToolkit_Routing_DocumentUrlContext_Model">Model</h3><div class="doc-summary">Gets the document model associated with the current context.</div><pre dir="ltr"><code class="language-csharp">public IDocumentModel Model { get; }</code></pre><dl class="member-card"></dl><h4 id="property-value">Property Value</h4><dl class="param-list"><dt><span class="param-type"><a href="Kampute.DocToolkit.IDocumentModel.html" rel="code-reference">IDocumentModel</a></span></dt><dd>The <a href="Kampute.DocToolkit.IDocumentModel.html" rel="code-reference" class="see-link">IDocumentModel</a> representing the document being processed in this context, or <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/keywords/null" rel="language-keyword" class="see-link"><code class="langword">null</code></a> if not applicable.</dd></dl></section><section class="type-member is-property is-public is-abstract" role="region" aria-labelledby="Kampute_DocToolkit_Routing_DocumentUrlContext_RootUrl"><h3 id="Kampute_DocToolkit_Routing_DocumentUrlContext_RootUrl">RootUrl</h3><div class="doc-summary">Gets the absolute or relative URL to the root of the documentation site for the current context.</div><pre dir="ltr"><code class="language-csharp">public abstract Uri RootUrl { get; }</code></pre><dl class="member-card"></dl><h4 id="property-value">Property Value</h4><dl class="param-list"><dt><span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.uri" rel="code-reference">Uri</a></span></dt><dd>The URL that serves as the reference point for resolving relative URLs within the current context.</dd></dl><h4 id="remarks">Remarks</h4><div class="doc-comment">The <a href="Kampute.DocToolkit.Routing.DocumentUrlContext.html#Kampute_DocToolkit_Routing_DocumentUrlContext_RootUrl" rel="code-reference" class="see-link">RootUrl</a> property serves as a critical reference point for constructing site-wide resource URLs and cross-document navigation that works consistently regardless of the document's depth in the hierarchy. It is especially useful for breadcrumb navigation and referencing shared resources like CSS, JavaScript files, and images from documents at any level in the site hierarchy.<p>When the root URL is a relative URL, it represents the path from the current document to the root of the documentation site. The following examples illustrate how a relative root URL is computed based on document location:<ul class="list-items"><li>For a document at the root level: <code>""</code></li><li>For a document in a first-level directory: <code>"../"</code></li><li>For a document in a second-level directory: <code>"../../"</code></li></ul></p></div></section><h2 id="methods">Methods</h2><section class="type-member is-method is-public is-abstract" role="region" aria-labelledby="Kampute_DocToolkit_Routing_DocumentUrlContext_Dispose"><h3 id="Kampute_DocToolkit_Routing_DocumentUrlContext_Dispose">Dispose()</h3><div class="doc-summary">Disposes the current instance and restores the previous URL context.</div><pre dir="ltr"><code class="language-csharp">public abstract void Dispose()</code></pre><dl class="member-card"></dl></section><section class="type-member is-method is-static" role="region" aria-labelledby="Kampute_DocToolkit_Routing_DocumentUrlContext_IsSiteRelativeUrl_System_String_"><h3 id="Kampute_DocToolkit_Routing_DocumentUrlContext_IsSiteRelativeUrl_System_String_">IsSiteRelativeUrl(string)</h3><div class="doc-summary">Determines whether the specified URL string is a site-relative URL.</div><pre dir="ltr"><code class="language-csharp">protected static bool IsSiteRelativeUrl(string urlString)</code></pre><dl class="member-card"></dl><h4 id="parameters">Parameters</h4><dl class="param-list"><dt><code class="param-name">urlString</code> <span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.string" rel="code-reference">string</a></span></dt><dd>The URL string to check.</dd></dl><h4 id="returns">Returns</h4><dl class="param-list"><dt><span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.boolean" rel="code-reference">bool</a></span></dt><dd><a href="https://learn.microsoft.com/dotnet/csharp/language-reference/builtin-types/bool" rel="language-keyword" class="see-link"><code class="langword">true</code></a> if the URL is site-relative; otherwise, <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/builtin-types/bool" rel="language-keyword" class="see-link"><code class="langword">false</code></a>.</dd></dl></section><section class="type-member is-method is-public is-abstract" role="region" aria-labelledby="Kampute_DocToolkit_Routing_DocumentUrlContext_TryTransformSiteRelativeUrl_System_String_System_String@_"><h3 id="Kampute_DocToolkit_Routing_DocumentUrlContext_TryTransformSiteRelativeUrl_System_String_System_String@_">TryTransformSiteRelativeUrl(string, out string)</h3><div class="doc-summary">Attempts to transform a site-relative URL string into an absolute or document-relative URL based on the current context.</div><pre dir="ltr"><code class="language-csharp">public abstract bool TryTransformSiteRelativeUrl(string siteRelativeUrl, [NotNullWhen(true)] out string transformedUrl)</code></pre><dl class="member-card"></dl><h4 id="parameters">Parameters</h4><dl class="param-list"><dt><code class="param-name">siteRelativeUrl</code> <span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.string" rel="code-reference">string</a></span></dt><dd>The URL string relative to site root to transform.</dd><dt><code class="param-name">transformedUrl</code> <span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.string" rel="code-reference">string</a></span></dt><dd>When this method returns, contains the transformed URL if the transformation succeeded; otherwise, <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/keywords/null" rel="language-keyword" class="see-link"><code class="langword">null</code></a>.</dd></dl><h4 id="returns">Returns</h4><dl class="param-list"><dt><span class="param-type"><a href="https://learn.microsoft.com/dotnet/api/system.boolean" rel="code-reference">bool</a></span></dt><dd><a href="https://learn.microsoft.com/dotnet/csharp/language-reference/builtin-types/bool" rel="language-keyword" class="see-link"><code class="langword">true</code></a> if the URL was successfully transformed; otherwise, <a href="https://learn.microsoft.com/dotnet/csharp/language-reference/builtin-types/bool" rel="language-keyword" class="see-link"><code class="langword">false</code></a>.</dd></dl><h4 id="remarks">Remarks</h4><div class="doc-comment">This method transforms URLs that are specified relative to the site root into URLs that work correctly when referenced from the current context, regardless of the document's depth in the documentation hierarchy.</div></section><h2 id="thread-safety">Thread Safety</h2><div class="doc-comment" role="note" aria-label="Thread safety information"><ul><li>Public static members of the type are guaranteed to be thread-safe.</li><li>Public instance members of the type are guaranteed to be thread-safe.</li></ul></div><h2 id="see-also">See Also</h2><ul class="see-also-list"><li class="is-interface"><a href="Kampute.DocToolkit.Routing.IDocumentUrlContextProvider.html" rel="code-reference">IDocumentUrlContextProvider <span class="category">Interface</span></a></li></ul><footer class="content-footer" role="contentinfo"><p>Copyright © 2025 <a href="http://kampute.com">Kampute</a></p></footer></main><aside class="sidebar sidebar-right" role="complementary" aria-label="In this article" tabindex="-1"><div class="sidebar-header" aria-hidden="true"><h3>In this article</h3></div><nav id="article-navigation" class="sidebar-nav" data-max-level="3"></nav></aside></div><div id="modal-overlay" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="modal-title" aria-hidden="true"><div class="modal-container"><div class="modal-header"><h3 id="modal-title"></h3><button id="modal-close" type="button" class="modal-close-btn" aria-label="Close dialog">&times;</button></div><div class="modal-content"><div id="modal-body" class="modal-body"><iframe id="modal-iframe" frameborder="0" title="Dialog content"></iframe></div></div></div></div></body></html>